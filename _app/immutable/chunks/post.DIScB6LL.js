import{r as y,i as D,s as i,c as e,a as r,p as F,C as E,d as B,o as m,t as d,v as t}from"./disclose-version.Brd39H6e.js";import{p as f,a as g}from"./runtime.C65tfZF7.js";import{M as u}from"./mdsvex.DNalNMCX.js";const h=""+new URL("../assets/9be16c3b1799ea7396ee9beaae6a1446.GgNMZAzh.png",import.meta.url).href;var _=d('<img alt="Immagine che contiene testo, schermata, software, Software multimediale Descrizione generata automaticamente"> <!>',!0);const v={title:"AutoCommit",description:"AutoCommit",date:"2024-05-05",cover:"c8185e32e5ecaa63c075f034b40a8d90.png",categories:["Filosofia Classica","Filosofia Moderna"],published:!0};function k(s,a){const c=y(a,["children","$$slots","$$events"]);g(a,!1),D();var n=B(s),C=r(n);u(C,i(()=>c,v,{children:(l,b)=>{var p=m(l,!0,_),o=r(p);F(o,"src",h);var A=t(t(o,!0));E(A,()=>`<pre class="shiki poimandres" style="background-color:#1b1e28;color:#a6accd" tabindex="0"><code><span class="line"><span style="color:#5DE4C7">import </span><span style="color:#A6ACCD">&#123;</span><span style="color:#ADD7FF"> simpleGit</span><span style="color:#A6ACCD"> &#125;</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">simple-git</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">path</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">path</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#5DE4C7">import </span><span style="color:#ADD7FF">fs</span><span style="color:#A6ACCD"> from</span><span style="color:#A6ACCD"> '</span><span style="color:#5DE4C7">fs</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> checkDirectorySync</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> &#123;</span></span>
<span class="line"><span style="color:#91B4D5">	let</span><span style="color:#E4F0FB"> err</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#D0679D">	try</span><span style="color:#A6ACCD"> &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">		fs</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">statSync</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125; </span><span style="color:#D0679D">catch</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">e</span><span style="color:#A6ACCD">) &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">		err</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> e</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125;</span></span>
<span class="line"><span style="color:#5DE4C7C0">	return</span><span style="color:#E4F0FB"> err</span><span style="color:#91B4D5"> ===</span><span style="color:#D0679D"> undefined</span><span style="color:#91B4D5"> ?</span><span style="color:#5DE4C7"> true</span><span style="color:#91B4D5"> :</span><span style="color:#D0679D"> false</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">&#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#ADD7FF"> gitRootPath</span><span style="color:#91B4D5"> =</span><span style="color:#A6ACCD"> (</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">	dir</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> dir</span><span style="color:#91B4D5"> ||</span><span style="color:#E4F0FB"> path</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">resolve</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">.</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	if (</span><span style="color:#91B4D5">!</span><span style="color:#E4F0FBD0">checkDirectorySync</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">)) &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Error: Path is invalid</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">		process</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">exit</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125;</span></span>
<span class="line"><span style="color:#A6ACCD">	if (</span><span style="color:#E4F0FBD0">checkDirectorySync</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">path</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">resolve</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">.git</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">))) &#123;</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FB"> dir</span><span style="color:#A6ACCD">;</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125; else &#123;</span></span>
<span class="line"><span style="color:#91B4D5">		const</span><span style="color:#E4F0FB"> parent</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FB"> path</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">resolve</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">dir</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">..</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		if (</span><span style="color:#E4F0FB">parent</span><span style="color:#91B4D5"> ===</span><span style="color:#E4F0FB"> dir</span><span style="color:#A6ACCD">) &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">			console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">error</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Error: This directory is not a git repository</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#E4F0FB">			process</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">exit</span><span style="color:#A6ACCD">(</span><span style="color:#5DE4C7">1</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">		&#125;</span></span>
<span class="line"><span style="color:#5DE4C7C0">		return</span><span style="color:#E4F0FBD0"> gitRootPath</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">parent</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125;</span></span>
<span class="line"><span style="color:#A6ACCD">&#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#91B4D5">const</span><span style="color:#E4F0FB"> git</span><span style="color:#91B4D5"> =</span><span style="color:#E4F0FBD0"> simpleGit</span><span style="color:#A6ACCD">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E4F0FB">git</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">exec</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#E4F0FB"> console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Starting push...</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">))</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">addConfig</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">user.name</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Samuele de Tomasi</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">addConfig</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">user.mail</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">samuele@stranianelli.com</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">addConfig</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">user.branch</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, </span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">main</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">)</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">add</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FBD0">gitRootPath</span><span style="color:#A6ACCD">())</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">commit</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">commit</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">, (</span><span style="color:#E4F0FB">a</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">b</span><span style="color:#A6ACCD">) </span><span style="color:#91B4D5">=></span><span style="color:#A6ACCD"> &#123;</span></span>
<span class="line"><span style="color:#E4F0FB">		console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#E4F0FB">a</span><span style="color:#A6ACCD">, </span><span style="color:#E4F0FB">b</span><span style="color:#A6ACCD">);</span></span>
<span class="line"><span style="color:#A6ACCD">	&#125;)</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">push</span><span style="color:#A6ACCD">()</span></span>
<span class="line"><span style="color:#A6ACCD">	.</span><span style="color:#E4F0FBD0">exec</span><span style="color:#A6ACCD">(() </span><span style="color:#91B4D5">=></span><span style="color:#E4F0FB"> console</span><span style="color:#A6ACCD">.</span><span style="color:#E4F0FBD0">log</span><span style="color:#A6ACCD">(</span><span style="color:#A6ACCD">'</span><span style="color:#5DE4C7">Push done.</span><span style="color:#A6ACCD">'</span><span style="color:#A6ACCD">));</span></span></code></pre>`,!1),e(l,p)}})),e(s,n),f()}export{k as default,v as metadata};
